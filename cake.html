<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
<title>UT Bot + LRC — CAKEUSDT Live (Android)</title>
<script src="https://unpkg.com/lightweight-charts/dist/lightweight-charts.standalone.production.js"></script>
<style>
  :root{--bg:#0d1117;--muted:#9aa4b2;--card:#0f1720}
  html,body{height:100%;margin:0;background:var(--bg);color:#fff;font-family:Inter, system-ui, Arial}
  #app{display:flex;flex-direction:column;height:100vh}
  header{padding:8px;display:flex;align-items:center;border-bottom:1px solid rgba(255,255,255,0.03)}
  header h1{font-size:15px;margin:0}
  .controls{display:flex;flex-wrap:wrap;gap:6px;padding:8px;background:linear-gradient(0deg,rgba(255,255,255,0.02),transparent)}
  .control{background:var(--card);padding:6px;border-radius:8px;font-size:13px}
  .control label{display:block;font-size:11px;color:var(--muted);margin-bottom:4px}
  #chart{flex:1;min-height:300px}
  footer{padding:6px;font-size:12px;color:var(--muted);text-align:center}
  button{background:transparent;border:1px solid rgba(255,255,255,0.06);color:#fff;padding:6px 8px;border-radius:8px}
  input[type=number]{width:80px}
  @media(max-width:420px){header h1{font-size:14px}}
</style>
</head>
<body>
<div id="app">
  <header>
    <h1>UT Bot + LRC — CAKEUSDT Live (Android)</h1>
    <div style="margin-left:auto;font-size:12px;color:var(--muted)">TF: 1m — Binance</div>
  </header>

  <div class="controls">
    <div class="control">
      <label>Min candle body (%)</label>
      <input id="minBody" type="number" step="0.01" value="0.15">
    </div>

    <div class="control">
      <label>Volume multiplier (vs MA)</label>
      <input id="volMulti" type="number" step="0.1" value="1.2">
    </div>

    <div class="control">
      <label>Min delay (s)</label>
      <input id="minDelay" type="number" step="1" value="20">
    </div>

    <div class="control">
      <label>ATR period</label>
      <input id="atrPeriod" type="number" step="1" value="14">
    </div>

    <div class="control">
      <label>ATR multiplier</label>
      <input id="atrMultiplier" type="number" step="0.1" value="3.0">
    </div>

    <div style="display:flex;align-items:center;gap:8px">
      <button id="toggle">Start</button>
      <button id="apply">Apply</button>
    </div>
  </div>

  <div id="chart"></div>

  <footer id="status">Status: stopped</footer>
</div>

<script>
// Inserted functionality for Start and Apply buttons
let config={minBody:0.15,volMulti:1.2,minDelay:20,atrPeriod:14,atrMultiplier:3};
function applyConfig(){
 config.minBody=parseFloat(minBody.value);
 config.volMulti=parseFloat(volMulti.value);
 config.minDelay=parseInt(minDelay.value);
 config.atrPeriod=parseInt(atrPeriod.value);
 config.atrMultiplier=parseFloat(atrMultiplier.value);
 status.textContent='Status: settings applied';
}
apply.onclick=applyConfig;

toggle.onclick=()=>{
 if(toggle.textContent==='Start'){
   toggle.textContent='Stop'; status.textContent='Status: running'; startWS();
 } else {
   toggle.textContent='Start'; status.textContent='Status: stopped'; stopWS();
 }
};

let ws=null;
function startWS(){
 ws=new WebSocket("wss://stream.binance.com:9443/ws/cakeusdt@kline_1m");
 ws.onmessage=e=>console.log('live');
}
function stopWS(){ if(ws) ws.close(); }
</script>
</body>
</html>
